const ALLOWED_AUTHOR_ASSOCIATIONS = [
    'OWNER',
    'COLLABORATOR',
    'MEMBER'
];
const JSON_START = '```json';
const JSON_START_OFFSET = JSON_START.length;
const JSON_END = '```';
export const SET_OPTION_COMMAND = '!simple-release/set-options';
export function parseSetOptionsComment(comment) {
    if (ALLOWED_AUTHOR_ASSOCIATIONS.includes(comment.author_association)) {
        const { body } = comment;
        if (body?.startsWith(SET_OPTION_COMMAND)) {
            const start = body.indexOf(JSON_START);
            const end = body.lastIndexOf(JSON_END);
            const json = body.substring(start + JSON_START_OFFSET, end).trim();
            return json;
        }
    }
    return null;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21tZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE1BQU0sMkJBQTJCLEdBQUc7SUFDbEMsT0FBTztJQUNQLGNBQWM7SUFDZCxRQUFRO0NBQ1QsQ0FBQTtBQUNELE1BQU0sVUFBVSxHQUFHLFNBQVMsQ0FBQTtBQUM1QixNQUFNLGlCQUFpQixHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUE7QUFDM0MsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFBO0FBRXRCLE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLDZCQUE2QixDQUFBO0FBRS9ELE1BQU0sVUFBVSxzQkFBc0IsQ0FBQyxPQUFnQjtJQUNyRCxJQUFJLDJCQUEyQixDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsRUFBRTtRQUNwRSxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFBO1FBRXhCLElBQUksSUFBSSxFQUFFLFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQ3hDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7WUFDdEMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUN0QyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxpQkFBaUIsRUFBRSxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtZQUVsRSxPQUFPLElBQUksQ0FBQTtTQUNaO0tBQ0Y7SUFFRCxPQUFPLElBQUksQ0FBQTtBQUNiLENBQUMifQ==