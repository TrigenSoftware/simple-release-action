import { ProjectManifest } from './manifest.js';
/**
 * A class that represents a compositon of multiple project manifests.
 * It is used to manage multiple project manifests as a single entity.
 * Information is used from the main manifest, while the sub manifest are also used to update the version.
 */
export class ComposedProjectManifest extends ProjectManifest {
    mainManifest;
    subManifests;
    /**
     * Creates a new instance of the composed project manifest.
     * @param mainManifest - The main project manifest to use for reading information.
     * @param subManifests - The sub project manifest to use for writing information.
     */
    constructor(mainManifest, subManifests) {
        super(mainManifest.manifestPath);
        this.mainManifest = mainManifest;
        this.subManifests = subManifests;
    }
    readManifest() {
        return this.mainManifest.readManifest();
    }
    get contents() {
        return this.mainManifest.contents;
    }
    get manifest() {
        return this.mainManifest.manifest;
    }
    async getName() {
        return this.mainManifest.getName();
    }
    getVersion() {
        return this.mainManifest.getVersion();
    }
    isPrivate() {
        return this.mainManifest.isPrivate();
    }
    async writeVersion(version, dryRun) {
        const update = await this.mainManifest.writeVersion(version, dryRun);
        for (const adapter of this.subManifests) {
            update.files.push(...(await adapter.writeVersion(version, dryRun)).files);
        }
        return update;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9zZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbWFuaWZlc3QvY29tcG9zZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGVBQWUsQ0FBQTtBQUUvQzs7OztHQUlHO0FBQ0gsTUFBTSxPQUFPLHVCQUFxRCxTQUFRLGVBQWtCO0lBT2pGO0lBQ0E7SUFQVDs7OztPQUlHO0lBQ0gsWUFDUyxZQUFnQyxFQUNoQyxZQUErQjtRQUV0QyxLQUFLLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFBO1FBSHpCLGlCQUFZLEdBQVosWUFBWSxDQUFvQjtRQUNoQyxpQkFBWSxHQUFaLFlBQVksQ0FBbUI7SUFHeEMsQ0FBQztJQUVELFlBQVk7UUFDVixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLENBQUE7SUFDekMsQ0FBQztJQUVELElBQUksUUFBUTtRQUNWLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUE7SUFDbkMsQ0FBQztJQUVELElBQUksUUFBUTtRQUNWLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUE7SUFDbkMsQ0FBQztJQUVELEtBQUssQ0FBQyxPQUFPO1FBQ1gsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxDQUFBO0lBQ3BDLENBQUM7SUFFRCxVQUFVO1FBQ1IsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxDQUFBO0lBQ3ZDLENBQUM7SUFFRCxTQUFTO1FBQ1AsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFBO0lBQ3RDLENBQUM7SUFFRCxLQUFLLENBQUMsWUFBWSxDQUFDLE9BQWUsRUFBRSxNQUFnQjtRQUNsRCxNQUFNLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUVwRSxLQUFLLE1BQU0sT0FBTyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDdkMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sT0FBTyxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtTQUMxRTtRQUVELE9BQU8sTUFBTSxDQUFBO0lBQ2YsQ0FBQztDQUNGIn0=